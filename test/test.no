
// TODO:
//  - Move FFI to instance?
//  - Free vm?
//  - Foreign functions (call printf)
//  - Builtin string type
//  - #run
//  - #insert

//  - Global variables
//  - Constant variables
//  - Basic control flow
//      - switch
//      - defer
//  - Nested function declarations

//  - Keyword tokens should be associated with some enum so the parser can switch on this instead of using if-else chains
//  - Redo linear allocator to have blocks
//  - Capture errors, and check for them in tests

putchar :: (char: s32) -> s32 #foreign;

foreign_add :: (a: s64, b: s64) -> s32 #foreign;

main :: () -> s64 {

    c : s32 = 'H';

    c = putchar(c);
    c2 := putchar('I');
    putchar('!');
    putchar(10);
    // putchar('\n');

    return c + c2 + foreign_add(1, 2);
}
